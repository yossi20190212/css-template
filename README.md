SassとBEMを組み合わせ

※全ての計算（フォントサイズ、padding,margin,width,height）をremで管理します。
下記参照
(vscodeの場合はcommand+クリックで飛びます。)

https://qiita.com/shouchida/items/c23072d2b8e2b8be2e92

----------------------------------------------------------------------------
CSS用クラス名の命名規則
----------------------------------------------------------------------------
CSS用にid属性は使わない
class属性はキャメルBEMで命名する
基本的にすべての要素にclass属性を付与する
※CSSファイル内で要素セレクタを使用しないようにするため


----------------------------------------------------------------------------
フォルダ構成
----------------------------------------------------------------------------
SassとBEMを組み合わせる際はブロック（パーツ）ごとにSCSSファイルを
分けて管理すると扱いが楽です。

cssフォルダ
　scssフォルダ：Sassファイル群
　base：リセットとサイト共通定義
　　_base.scss：サイト共通定義
　　_reset.scss：リセットCSS
　mixinフォルダ：サイト内で何度も使うデザイン定義群
　　_btn.scss：ボタンデザイン
　　_font.scss：書体関係デザイン
　　_form.scss：フォームデザイン
　　_media.scss：メディアクエリ
　　_other.scss：その他
　componentフォルダ：ブロック（パーツ）単位のSCSSファイル群
　　_ブロック名.scss：
　page：ページ専用CSSが必要な時に使用するファイル群
    index.scss：トップページ専用デザイン定義
　setting：変数管理ファイル群
　　_config.scss：サイト共通変数


----------------------------------------------------------------------------
サイト共通変数設定
----------------------------------------------------------------------------
css/scss/setting/_config.scss

外部ファイル読み込み
　FontAwesome
　　@import url("https://use.fontawesome.com/releases/v5.6.1/css/all.css");
　　@import url("https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css");

　WebFont
　　@import url("https://fonts.googleapis.com/css?family=Noto+Sans+JP:100,300,400,500,700,900&display=swap&　　subset=japanese");
 
初期設定
　サイト共通の値を変数で定義
 
ブレイクポイント
 $bp: 768;
  
サイトで使用する色
 $color01: #000;
 $color02: #fff;
 
基本書体
 $font: 'Noto Sans JP',
 -apple-system,
 BlinkMacSystemFont,
 'Helvetica Neue',
 'メイリオ',
 Meiryo,
 'Yu Gothic',
 YuGothic,
 sans-serif !default;
 
基本行間
 $lineHeight: 1.6;

など

----------------------------------------------------------------------------
サイト共通部品「@mixin」
----------------------------------------------------------------------------
css/scss/mixin/_btn.scss
ボタン
複数ブロックで同じスタイルが必要なもの

css/scss/mixin/_font.scss
文字
複数ブロックで同じスタイルが必要なもの

css/scss/mixin/_form.scss
フォーム
複数ブロックで同じスタイルが必要なもの

css/scss/mixin/_media.scss
ブレイクポイント

など

----------------------------------------------------------------------------
リセットCSS
----------------------------------------------------------------------------
css/scss/base/_reset.scss

※HTMLフォントサイズ62.5%は不可。

----------------------------------------------------------------------------
サイト共通デザイン
----------------------------------------------------------------------------
css/scss/base/_base.scss

サイト共通設定
サイト共通デザインのクラス名は「_（アンダースコア）」始まり

※こちらに相対値での設定をサイトごとに行います。


----------------------------------------------------------------------------
ブロック（パーツ）のデザイン定義
----------------------------------------------------------------------------
css/scss/component/_ブロック名.scss

記述の基本ルール例
　0.基本的に子孫セレクタを使用しない
　　※セレクタのポイント計算を簡略化するため
　1.BlockとBlock__elementに対するセレクタは「&」を使わずに記述する
　　※セレクタ検索しやすくするため
　2.-modifierは「&」を使って記述
　3.:hoverなどの擬似クラス「&」を使って記述
　4.::beforeや::afterなどの擬似要素も「&」を使って記述

----------------------------------------------------------------------------
ページごとのデザイン定義
----------------------------------------------------------------------------
css/scss/page/ページ名.scss

ページ単位でデザインが変わるだけ作成し、共通CSSとは別に書き出します。
そのためファイル名の前に「_(アンダースコア)」をつけません。

該当ページのみ「共通CSS」をimportし、
「ページのCSS」を読み込みます。


----------------------------------------------------------------------------
このテンプレートを使うにあたってのスニペット登録(コピペOK)
----------------------------------------------------------------------------

includeしてmixinや計算式を書くのは時間がかかるので、スニペット登録をおすすめします。
visual studio code の場合は下記でscss.jsonを作成してコピペで登録してください。

上部メニューから
Code/基本設定/ユーザースニペット


{
	"pcfont": {
		"prefix": "pf",
		"body": [
			"/ \\$pc_font * 1rem"
		],
		"description": "変数"
	},
	"pcall": {
		"prefix": "pa",
		"body": [
			"/ \\$pc_all * 1%"
		],
		"description": "変数"
	},
	"pcinner": {
		"prefix": "pi",
		"body": [
			"/ \\$pc_inner * 1%"
		],
		"description": "innerの中のサイズ指定"
	},
	"spfont": {
		"prefix": "sf",
		"body": [
			"/ \\$sp_font * 1rem"
		],
		"description": "スマホ時のフォントサイズのみ指定"
	},
	"spall": {
		"prefix": "sa",
		"body": [
			"/ \\$sp_all * 1vw"
		],
		"description": "スマホ時フォント以外の計算は全てこれ"
	},
	"spinner": {
		"prefix": "si",
		"body": [
			"/ \\$sp_inner * 1%"
		],
		"description": "innerの中のサイズ指定"
	},
	"mediapc": {
		"prefix": "mp",
		"body": [
			"@include media-pc{}"
		],
		"description": "メディアクエリ"
	},
	"mediasp": {
		"prefix": "ms",
		"body": [
			"@include media-sp{}"
		],
		"description": "メディアクエリ"
	},
	"lineheight": {
		"prefix": "lh",
		"body": [
			"@include mg_lh(\\$mb:0px , \\$lH:00/00);"
		],
		"description": "($mt:0px , $mb:0px , $mr:null , $ml:null , $lH:26/15, $lastMb0:false,$lastType:false)"
	},
}

----------------------------------------------------------------------------
JSの最低限の機能
----------------------------------------------------------------------------

フェードインやスムーススクロールはほぼどのサイトにも使用するので
とりあえず入れてます。
フェードインに関しては、vanila.JSで記載されているライブラリではないものを採用しています。
assets/js/common.js
関数名 scrollAnimationFunc

下記参照
(vscodeの場合はcommand+クリックで飛びます。)

http://noze.space/archives/415



----------------------------------------------------------------------------
変数や計算式・初期設定値入力ファイルについて
----------------------------------------------------------------------------

計算式やスニペットの吐き出しなどはまず一度、sample.html/sample.scssを確認ください。（下記で各ファイルの説明をします）
※また本番では双方ファイルを削除するようお願いします。

基本的に設定するファイルは下記となります。

①assets/css/scss/setting/_config.scss（共通変数設定）
②assets/css/scss/base/_base.scss（共通ベース設定）
③assets/css/scss/mixin/_media.scss（共通メディアクエリ設定）

※各ページスタイル追加
assets/css/scss/pages/ページ名（各ページCSS作成）

----------------------------------------------------------------------------
①の設定について（assets/css/scss/setting/_config.scss（共通変数設定））
----------------------------------------------------------------------------
こちらは単純に共通の「変数」を設定します。

-ブレイクポイント
$bp: 768;

-使用フォント
$font
$font01
$font02

上記のような単純なものは各自設定してください。
また、下記の$pc_allなどはデザインにより変更するのと、スニペットの計算式で使用するので、下記詳細を確認ください。

$pc_all・$pc_innerについて
こちらは可変が開始する全体の幅と考えてください。
今回のテンプレートサンプルでは、
デザインカンプでアートボードが1600px,
インナー幅（コンテンツ幅）が1400px,
1400/1600 = コンテンツ幅 87.5%
なので、後ほどbase.scssで設定する可変領域として、
1600px以上は固定値となり、1600px以下はインナー幅(８７.５％)の比率で可変します。

※また、デザインにより、1920pxのアートボード、インナー幅（コンテンツ幅）が1200pxなどが、
ある場合、可変幅を1920にすると可変の始まりが早く、フォントサイズなどがかなり小さくなってしまいます。
どの場合は、インナー幅（コンテンツ幅）を全体の90％、または80％などで設定し全体の100％を$pc_allに設定してください。

インナー幅（コンテンツ幅）1200pxが全体の90％とした場合

1200 / 90 * 100 = 1333.3333...

なので、$pc_allは1330と設定すればOKです。
1330以下から余白を両サイドの取りすぎず90％で可変します。

$pc_fontについて
こちらはブラウザ標準の16で問題ないです。

$sp_all・$sp_inner
こちらはブレイクポイント時の数値を指定してください。

$sp_fontについて
こちらは、デザインで主になる数値を二倍で設定しています。
サンプルでは768px時28px
半分の384pxでは14pxぐらいになります。

----------------------------------------------------------------------------
②について（assets/css/scss/base/_base.scss（共通ベース設定））
----------------------------------------------------------------------------

こちらで、
サイト全体の可変開始範囲・フォントサイズ、固定値のフォントサイズなどを設定します。

base.scss内にある、「サイト共通設定」の部分は、固定値（フォントサイズのpx指定）を設定しています。
可変範囲は全体でrem計算となるので、htmlへのrootをpxで指定します。
箇所は下記の部分です。
html{
	font-size: $pc_font * 1px;
}

base.scss内にある、「PC 共通設定」の部分
----------------------------------------------------------------------------
こちらはPC共通の設定です。主にinnerの幅設定となります。
こちらで使用しているインクルード（@include media-pc）は、下記ファイルで設定しています。
assets/css/scss/mixin/_media.scss（共通メディアクエリ設定）

@include media-pc {
	.inner {
		width: (($pc_all * 100) - (100 * 2)) / $pc_all * 1%;
		max-width: 1400px;
		margin: auto;
	}
}

width: (($pc_all * 100) - (100 * 2)) / $pc_all * 1%;
上記は変数を使用して87.5%にしているだけです。
((16*100) - (100*2)) / 16 * 1% = 87.5%


base.scss内にある、「PC 相対値範囲設定」の部分
----------------------------------------------------------------------------
こちらが可変する範囲をmin,maxで指定しています。
こちらのインクルードも下記で記載しているmixinを使用しています。
@include media($min: $bp, $max: 1600)
assets/css/scss/mixin/_media.scss（共通メディアクエリ設定）

なので、768~1600の間は、htmlのフォントサイズをvwで指定しています。（remで見にいくため可変のフォントサイズを設定）

@include media($min: $bp, $max: 1600) {
	html {
		font-size: $pc_font/16 * 1vw;
	}
}

上記の説明をします。
こちらも変数の$pc_font/画面幅 * 1vwで設定して、htmlのフォントの値をvwで指定しています。

インクルードの$maxで指定した可変幅の最大値,1600を割100した数値を入れてもらえばOKです。
下記計算となります。

font-size 16/16 * 1vw = 1vw;
つまり、画面幅が1600pxの時1vw(16)になるので、フォントサイズはremで指定します。
下記18px指定のフォントサイズにしたい場合はそのまま、

h3{
 font-size: 18 / $pc_font * 1rem;
}

上記のように計算をしてもらえればOKです(スニペットpf)。
18/16 * 1rem = 1.125remとなり、
rem計算なので、rootの16の1.125倍 = 18となります。
このrem計算は、 パディング、マージンでも使用可能です。

.textBox{
	padding: 40 / $pc_font * 1rem 0;
	margin-top: 80 / $pc_font * 1rem;
}

上記のように、フォントサイズとともにデザインを崩さず伸縮します。
(※一枚画像を貼ったような感じ)

縦幅：heightや横幅：widthにも使用できますが、
横幅：widthを使用する場合は注意が必要です。

こちらの計算はvw(画面全体幅)から計算しているので、
innerのなかのコンテンツの横並びの幅指定（flex使用時）などは、
パーセントで指定してください。

例えば、下記のような場合です。
innerの中のコンテンツで3つ並び、一つのコンテンツがデザインで450pxの場合

.flexContainer{
	display: flex;
	.flexItem{
		width: 450 / 14 * 1%;
	}
}

上記はインナー内の相対値をパーセントで指定しています。
全体からの相対値だと伸縮した時に計算が合わず表示が崩れるためです。
14という数値はinner幅です。

また、下記も同じです。
width: 450 / $pc_inner * 1%;
width: 450 / 1400 * 100%;

また、応用ですが、さらに450の中にコンテンツがある場合は450からの相対値とするため、
※300pxだった場合
.flexContainer{
	display: flex;
	.flexItem{
		width: 450 / 14 * 1%;
		.textBox{
			width 300 / 4.5 * 1%
		}
	}
}

上記のように計算してください。
先程同様、下記でもOKです。
width: 300 / 450 * 100%;


base.scss内にある、「SP 共通設定」部分
----------------------------------------------------------------------------

こちらはPC同様、vwの指定をhtmlのフォントサイズにしています。
また、SPでの計算は下記2つの指定で全て賄えます。

.sampleBlock{
	width: 300 / $sp_all * 1vw;
	height: 500 / $sp_all * 1vw;
	padding: 40 / $sp_all * 1vw 20 / $sp_all * 1vw;
	margin: 80 / $sp_all * 1vw 0;
	
	フォントサイズのみ
	font-size: 50 / $sp_font * 1rem;
}

上記はスニペットで、sf,saで計算式がでます。

PC/SP共に、主に使うスニペットは下記です。

PC
pf,pi

SP
sf,sa

----------------------------------------------------------------------------
③について（assets/css/scss/mixin/_media.scss（共通メディアクエリ設定））
----------------------------------------------------------------------------

こちらは共通変数、
assets/css/scss/setting/_config.scss
で設定した、$bpをもとにブレイクポイントのインクルードを作成しています。

独自のブレイクポイントの設定は「個別 ブレイクポイント」を呼び出して使用してください。

また、スニペット呼び出しは下記となります。
mp,ms

また、セクションやブロックごとに下記書き方で記述すると、
SPへのブレイク時オーバーライドせず楽に記述できます。

.sampleSection{
	共通の記述
	color: #fff;
	font-weight: 700;
	background-color: #f9f9f9;

	@include media-pc{
		PCのみ
		padding-top: 160 / $pc_font * 1rem;
		margin: 40 / $pc_font * 1rem auto;
		font-size: 60 / $pc_font * 1rem;
		display: flex;
	}

	@include media-sp{
		SPのみ
		padding-top: 60 / $sp_all * 1vw;
		margin: 15 / $sp_all * 1vw;
		font-size: 24 / $sp_font * 1rem;
	}
}


----------------------------------------------------------------------------
各ページ追加について（assets/css/scss/pages/ページ名（各ページCSS作成））
----------------------------------------------------------------------------

こちらは、共通styleをimportして、
各ページのスタイルを記述して、htmlで読み込んでください。


----------------------------------------------------------------------------
注意点
----------------------------------------------------------------------------

使用するにあったて、必ずクライアントの許可が必要です。
キックオフ時などに確認。
後からフォントサイズが小さいなどの注文が入ると全体での指定になるので、修正が面倒です。
また、基本的にリキッドデザインに耐えうるデザインが無難です。

下記にメリットデメリットまとめてますので、一読お願いします。

メリット
・ブレイクポイントが少ないので工数削減できる
・どのデバイスでもデザインが崩れない
・複雑なレイアウト配置なども固定値のように配置できる（画面の伸縮で崩れたり、ずれたりしない）
・pxとの併用も可能

デメリット
・フォントサイズが小さくなる（特にタブレット）
・全体での指定remでの計算になるので他社が作成した一部のみ適応が難しい（remではなくemでは可能だがややこしい）
・アッパー層が見るサイトには向かない。（前述同様）